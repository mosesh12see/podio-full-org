<!DOCTYPE html>
<html>
<head>
    <title>Internal Full Org Dashboard</title>
    <meta charset="UTF-8">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px;
            zoom: 0.65; }
        .container { max-width: 1600px; margin: 0 auto; }
        .header { text-align: center; color: white; margin-bottom: 30px; }
        .header h1 { font-size: 3em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .balance-banner { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 50px; border-radius: 20px; margin-bottom: 40px; color: white; text-align: center; box-shadow: 0 15px 50px rgba(0,0,0,0.4); }
        .balance-banner h2 { font-size: 1.5em; opacity: 0.9; margin-bottom: 15px; }
        .balance-banner .amount { font-size: 5em; font-weight: bold; text-shadow: 3px 3px 6px rgba(0,0,0,0.3); }
        .balance-banner .subtitle { font-size: 1.2em; opacity: 0.9; margin-top: 15px; }
        .totals-section { background: white; border-radius: 20px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .totals-section h2 { color: #667eea; font-size: 1.8em; margin-bottom: 25px; }
        .totals-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
        .total-box { background: #f8f9fa; padding: 20px; border-radius: 15px; text-align: center; }
        .total-box .label { color: #666; margin-bottom: 10px; }
        .total-box .value { font-size: 2em; font-weight: bold; color: #2c3e50; }
        .audit-section { background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .audit-section h2 { color: #e74c3c; font-size: 1.8em; margin-bottom: 20px; }
        .audit-item { background: #fff5f5; padding: 15px; margin: 10px 0; border-radius: 10px; border-left: 4px solid #e74c3c; }
        .footer { text-align: center; color: white; margin-top: 30px; opacity: 0.8; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Internal Full Org Dashboard</h1>
            <p>Real-time stats from Podio</p>
        </div>

        <div class="balance-banner">
            <h2>Total Balance Owed</h2>
            <div class="amount" id="total-balance">$0</div>
            <div class="subtitle"><span id="unpaid-count">0</span> Unpaid Sits √ó $350</div>
        </div>

        <div class="totals-section">
            <h2>Overall Totals</h2>
            <div class="totals-grid">
                <div class="total-box"><div class="label">Total Sits</div><div class="value" id="total-sits">0</div></div>
                <div class="total-box"><div class="label">Paid (P)</div><div class="value" id="paid-count">0</div></div>
                <div class="total-box"><div class="label">Paid by Sheets</div><div class="value" id="paid-sheets">0</div></div>
                <div class="total-box"><div class="label">Unpaid (NP)</div><div class="value" id="unpaid-total">0</div></div>
            </div>
        </div>

        <div class="audit-section">
            <h2>‚ö†Ô∏è Audit: Sit Dispo Changed (<span id="audit-count">0</span>)</h2>
            <p style="color:#666;margin-bottom:20px;">SPS=NP AND Sit‚â†Yes</p>
            <div id="audit-list"></div>
        </div>

        <div class="footer">
            <p>Last Updated: <span id="last-updated">--</span></p>
        </div>
    </div>

    <script>
    const DASHBOARD_DATA = {"last_updated": "2025-11-06 06:41 PM", "today": "2025-11-06", "yesterday": "2025-11-05", "week_start": "2025-11-03", "month_start": "2025-11-01", "total_balance": 0, "total_sits": 0, "paid_count": 0, "paid_by_sheets": 0, "unpaid_count": 0, "audit_count": 0, "yesterday_stats": {"assigned": 0, "sits": 0, "sold": 0, "kw": 0, "sit_ratio": 0, "close_ratio": 0}, "wtd_stats": {"assigned": 0, "sits": 0, "sold": 0, "kw": 0, "sit_ratio": 0, "close_ratio": 0}, "mtd_stats": {"assigned": 0, "sits": 0, "sold": 0, "kw": 0, "sit_ratio": 0, "close_ratio": 0}, "audit_items": []};

    function fmt(n) { return '$' + n.toLocaleString(); }

    function load() {
        document.getElementById('total-balance').textContent = fmt(DASHBOARD_DATA.total_balance);
        document.getElementById('unpaid-count').textContent = DASHBOARD_DATA.unpaid_count;

        document.getElementById('total-sits').textContent = DASHBOARD_DATA.total_sits;
        document.getElementById('paid-count').textContent = DASHBOARD_DATA.paid_count;
        document.getElementById('paid-sheets').textContent = DASHBOARD_DATA.paid_by_sheets;
        document.getElementById('unpaid-total').textContent = DASHBOARD_DATA.unpaid_count;

        document.getElementById('audit-count').textContent = DASHBOARD_DATA.audit_count;
        let html = '';
        DASHBOARD_DATA.audit_items.forEach(i => {
            html += `<div class="audit-item"><strong>${i.customer}</strong> - SPS: ${i.sps} | Sit: ${i.sit} | Date: ${i.date} | KW: ${i.kw} | Sold: ${i.sold ? 'Yes' : 'No'}</div>`;
        });
        document.getElementById('audit-list').innerHTML = html || '<p style="color:#666;">None</p>';

        document.getElementById('last-updated').textContent = DASHBOARD_DATA.last_updated;
    }

    load();
    </script>
</body>
</html>
